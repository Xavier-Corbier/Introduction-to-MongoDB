# **Session 1 - Partie 2 : Installation et prise en main de MongoDB**  

---

## **üéØ Objectifs p√©dagogiques**  

√Ä la fin de cette session, vous serez capable de :  
‚úÖ Installer MongoDB sur diff√©rents environnements (Windows, macOS, Linux, Docker).  
‚úÖ D√©marrer et arr√™ter le serveur MongoDB.  
‚úÖ Comprendre les outils fournis avec MongoDB (`mongosh`, Compass, Mongo Express, Atlas).  
‚úÖ Interagir avec MongoDB via la ligne de commande et des interfaces graphiques.  

---

## **üìö Contenu du cours**  

## **1Ô∏è‚É£ Pr√©sentation de l‚Äôenvironnement MongoDB**  

MongoDB est une base de donn√©es qui fonctionne selon une architecture **client-serveur**.  
Pour interagir avec MongoDB, on peut utiliser :  

- **MongoDB Server (`mongod`)** : Service principal qui stocke et g√®re les donn√©es.  
- **MongoDB Shell (`mongosh`)** : Interface en ligne de commande pour ex√©cuter des requ√™tes.  
- **MongoDB Compass** : Interface graphique pour visualiser et manipuler les bases de donn√©es.  
- **MongoDB Atlas** : Version cloud de MongoDB permettant l‚Äôh√©bergement g√©r√©.  
- **Mongo Express** : Interface web l√©g√®re pour g√©rer MongoDB via un navigateur.  

---

## **2Ô∏è‚É£ Installation de MongoDB**  

### **üîπ Installation sur Windows**  

1Ô∏è‚É£ **T√©l√©chargement**  
- Aller sur [MongoDB Download Center](https://www.mongodb.com/try/download/community).  
- T√©l√©charger **MongoDB Community Edition** pour Windows.  

2Ô∏è‚É£ **Installation**  
- Lancer l‚Äôinstallateur et suivre les √©tapes (choisir l‚Äôoption ‚ÄúComplete‚Äù).  
- Activer l‚Äôoption **"Install MongoDB as a Service"** (permet un d√©marrage automatique).  

3Ô∏è‚É£ **V√©rification de l‚Äôinstallation**  
```sh
mongod --version
mongosh --version
```
Si les versions s‚Äôaffichent, l‚Äôinstallation est r√©ussie.  

---

### **üîπ Installation sur macOS**  

1Ô∏è‚É£ **Utilisation de Homebrew** (m√©thode recommand√©e)  
```sh
brew tap mongodb/brew
brew install mongodb-community@6.0
```
2Ô∏è‚É£ **D√©marrer le service MongoDB**  
```sh
brew services start mongodb-community@6.0
```
3Ô∏è‚É£ **V√©rification**  
```sh
mongod --version
mongosh
```

---

### **üîπ Installation sur Linux (Ubuntu/Debian)**  

1Ô∏è‚É£ **Ajout du d√©p√¥t officiel**  
```sh
wget -qO - https://www.mongodb.org/static/pgp/server-6.0.asc | sudo apt-key add -
echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/6.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-6.0.list
sudo apt update
```
2Ô∏è‚É£ **Installation de MongoDB**  
```sh
sudo apt install -y mongodb-org
```
3Ô∏è‚É£ **D√©marrage du service**  
```sh
sudo systemctl start mongod
sudo systemctl enable mongod
```
4Ô∏è‚É£ **V√©rification**  
```sh
mongod --version
```

---

### **üîπ Installation avec Docker**  

1Ô∏è‚É£ **T√©l√©charger et ex√©cuter l‚Äôimage officielle**  
```sh
docker run --name mongodb -d -p 27017:27017 mongo
```
2Ô∏è‚É£ **Se connecter au conteneur MongoDB**  
```sh
docker exec -it mongodb mongosh
```

---

## **3Ô∏è‚É£ Installation et utilisation de Mongo Express**  

**Mongo Express** est une interface web l√©g√®re permettant d‚Äôadministrer MongoDB via un navigateur.  

### **üîπ Installation avec Docker**  
1Ô∏è‚É£ **Lancer MongoDB avec Mongo Express**  
```sh
docker network create mongo-network

docker run -d --name mongodb --network mongo-network -p 27017:27017 -e MONGO_INITDB_ROOT_USERNAME=admin -e MONGO_INITDB_ROOT_PASSWORD=admin mongo

docker run -d --name mongo-express --network mongo-network -p 8081:8081 -e ME_CONFIG_MONGODB_ADMINUSERNAME=admin -e ME_CONFIG_MONGODB_ADMINPASSWORD=admin -e ME_CONFIG_MONGODB_URL=mongodb://admin:admin@mongodb:27017/ mongo-express
```
2Ô∏è‚É£ **Acc√©der √† l‚Äôinterface**  
Ouvrir un navigateur et aller sur :  
üëâ [http://localhost:8081](http://localhost:8081)  

---

## **4Ô∏è‚É£ D√©marrage et arr√™t du serveur MongoDB**  

üìå **Sur Windows/macOS/Linux**  

- **D√©marrer le serveur**  
  ```sh
  mongod --dbpath "C:\data\db"
  ```
- **Arr√™ter le serveur**  
  ```sh
  sudo systemctl stop mongod  # Linux/macOS
  ```

üìå **Avec Docker**  
- **D√©marrer MongoDB**  
  ```sh
  docker start mongodb
  ```
- **Arr√™ter MongoDB**  
  ```sh
  docker stop mongodb
  ```

---

## **5Ô∏è‚É£ Interaction avec MongoDB**  

### **üîπ Connexion avec MongoDB Shell (`mongosh`)**  
```sh
mongosh
```

### **üîπ V√©rifier les bases existantes**  
```sh
show dbs
```

### **üîπ Cr√©er une nouvelle base et une collection**  
```sh
use testDB
db.utilisateurs.insertOne({ nom: "Alice", age: 25, email: "alice@email.com" })
```

### **üîπ Lire les documents**  
```sh
db.utilisateurs.find()
```

---

## **6Ô∏è‚É£ Utilisation de MongoDB Compass**  

MongoDB Compass est un outil graphique permettant d‚Äôexplorer et modifier les bases.  

### **üîπ Installation**  
- T√©l√©charger MongoDB Compass : [MongoDB Compass](https://www.mongodb.com/products/compass).  
- Se connecter avec l‚ÄôURI :  
  ```
  mongodb://localhost:27017
  ```

---

## **7Ô∏è‚É£ Pr√©sentation de MongoDB Atlas (Optionnel)**  

MongoDB Atlas est une **solution cloud** permettant de g√©rer MongoDB sans installation locale.  

üìå **Cr√©ation d‚Äôun cluster MongoDB Atlas** :  
1Ô∏è‚É£ **Cr√©er un compte sur** [MongoDB Atlas](https://www.mongodb.com/atlas).  
2Ô∏è‚É£ **Cr√©er un cluster gratuit**.  
3Ô∏è‚É£ **Se connecter √† MongoDB Atlas depuis Compass ou un terminal**.

---

## **üõ†Ô∏è Activit√©s pratiques**  

### **Exercice 1 : Installation et test de MongoDB**  
1Ô∏è‚É£ Installer MongoDB sur votre syst√®me.  
2Ô∏è‚É£ D√©marrer le serveur et se connecter via `mongosh`.  
3Ô∏è‚É£ V√©rifier les bases de donn√©es existantes avec `show dbs`.  
4Ô∏è‚É£ Cr√©er une base `testDB`, une collection `clients` et ins√©rer un document.  
```sh
use testDB
db.clients.insertOne({ nom: "Dupont", age: 30, email: "dupont@email.com" })
```
5Ô∏è‚É£ V√©rifier l‚Äôinsertion :  
```sh
db.clients.find()
```
6Ô∏è‚É£ Installer et utiliser MongoDB Compass.  
7Ô∏è‚É£ Installer Mongo Express avec Docker et y acc√©der via un navigateur.  

---

## **üìñ Questions de r√©vision**  

‚úî Quelles sont les √©tapes pour installer MongoDB sur Windows, macOS et Linux ?  
‚úî Comment d√©marrer et arr√™ter le serveur MongoDB ?  
‚úî Quelle est la diff√©rence entre `mongod`, `mongosh`, Mongo Express et MongoDB Compass ?  
‚úî √Ä quoi sert MongoDB Atlas ?  
